# 서울시 구별 5대 강력범죄 연관요소 탐구
* 진행 기간 : 2019.11.27 ~ 2019.12.04
* 만든 사람
   * 임영진
      * [Linkedin](https://www.linkedin.com/in/young-jin-lim-b499a0111/)
      * [Github](https://github.com/limyj0708) / [Github page](https://limyj0708.github.io/)
   * 박진희
      * [Github](https://github.com/JinnyPak)
      
## 주요 콘텐츠
   1. 상관계수 분석
   2. 그래프 시각화
      1. 서울시 구별 범죄 발생 건수와 관련 요인들을 산점도로 시각화
   3. 지도 시각화
   4. 회귀분석

### 발단 : 대림, 구로 등 중국 동포분들이 많은 지역에는 이런 이미지가 박혀 있습니다
* [대림동, ‘범죄도시’ 이미지 낙인 벗겨낼까](https://moneys.mt.co.kr/news/mwView.php?no=2019032709008061669)
* ["저희 범죄도시 아니에요" 대림동 차이나타운의 속사정](http://hub.zum.com/fnnews/37938)
* [“또 중국동포 범죄?” vs “바른 인식 가져달라”…중국동포 포비아 논란](https://www.asiae.co.kr/article/2019012315091070930)

## 1. 진짜 중국 국적 외국인 밀집 지역에서 범죄가 많이 일어날까?
#### 서울시 구별 중국국적 외국인 수와 5대 범죄 발생건수 연관분석

* 5대 강력범죄?
    * 살인, 강도, 강간및강제추행, 절도, 폭력
* 사용한 데이터
     * [서울시 5대 범죄 발생현황 통계 (구별) (2014~2018)](http://data.seoul.go.kr/dataList/datasetView.do?infId=316&srvType=S&serviceKind=2&currentPageNo=1)
     * [서울시 등록외국인 현황 (국적별/구별) 통계 (2014~2018)](http://data.seoul.go.kr/dataList/datasetView.do?infId=803&srvType=S&serviceKind=2&currentPageNo=1)
     * [서울시 1인당 사회복지 예산액 통계](http://data.seoul.go.kr/dataList/datasetView.do?infId=10685&srvType=S&serviceKind=2&currentPageNo=1)
     * [서울시 지역구별 지하철역 수 (2019)](https://1boon.kakao.com/zigbang/5db2aa996654465edc2185bf)
     * [서울시 주민등록 전입지별 인구이동 통계](https://data.seoul.go.kr/dataList/datasetView.do?infId=10213&srvType=S&serviceKind=2)

#### 최종적으로 수집, 전처리하여 사용한 DataFrame은 아래와 같습니다
* 125 rows × 8 columns

|자치구|기간|중국국적총합|합계|살인|강도|강간강제추행|절도|폭력|
|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|:--:|
|종로구|2014|7345.0|5,021|3|12|226|2,272|2,508|
|중구|2014|6452.0|5,231|6|13|221|2,576|2,415|
|용산구|2014|4762.0|3,799|1|7|213|1,560|2,018|
|성동구|2014|8293.0|3,582|1|5|141|1,753|1,682|
|광진구|2014|16554.0|6,268|8|16|249|3,167|2,828|
|...|...|...|...|...|...|...|...|...|
|관악구|2018|20083.0|5,026|9|10|352|2,012|2,643|
|서초구|2018|1776.0|4,726|5|5|470|1,851|2,395|
|강남구|2018|2332.0|7,513|10|14|600|3,004|3,885|
|송파구|2018|5991.0|5,807|5|6|309|2,352|3,135|
|강동구|2018|4233.0|3,919|3|7|170|1,515|2,224|

#### 상관계수 확인
```Python
# 2018년만 가져와서 상관계수를 구함
temp = result2.reset_index()
for_corr2 = temp[(temp['기간']==2018)].loc[:, '중국국적총합':]

# 2018년 기준 각 요소들의 상관관계
for_corr2.corr(method='pearson')
```
|                      |   중국국적총합 |   5대범죄_발생총합건수 |     살인 |     강도 |   강간강제추행 |     절도 |     폭력 |
|:---------------------|---------------:|-----------------------:|---------:|---------:|---------------:|---------:|---------:|
| 중국국적총합         |       1        |               0.241903 | 0.557359 | 0.302846 |       0.118571 | 0.220225 | 0.260172 |
| 5대범죄_발생총합건수 |       0.241903 |               1        | 0.594612 | 0.606587 |       0.801312 | 0.971584 | 0.974444 |
| 살인                 |       0.557359 |               0.594612 | 1        | 0.271016 |       0.469315 | 0.542147 | 0.607344 |
| 강도                 |       0.302846 |               0.606587 | 0.271016 | 1        |       0.496463 | 0.609513 | 0.569268 |
| 강간강제추행         |       0.118571 |               0.801312 | 0.469315 | 0.496463 |       1        | 0.767011 | 0.717707 |
| 절도                 |       0.220225 |               0.971584 | 0.542147 | 0.609513 |       0.767011 | 1        | 0.902027 |
| 폭력                 |       0.260172 |               0.974444 | 0.607344 | 0.569268 |       0.717707 | 0.902027 | 1        |


#### 중국 국적 외국인 인구수와 5대 강력범죄 발생 건수는 큰 상관이 없다
* 한계점 : '등록' 외국인 대상이기 때문에, 불법체류자의 영향은 알 수 없음
    * 구별 불법체류자 추정 수도 알 수 있으면, 더 좋은 분석이 될 수 있음
* 살인의 경우, 영등포구라는 이상값을 제외하면 계수가 0.26이 나옴

```python
# 영등포구를 제외한다면
for_corr = temp[(temp['기간']==2018) & (temp['자치구'] != '영등포구')].loc[:, '중국국적총합':]
for_corr.corr(method='pearson')
```

|                      |   중국국적총합 |   5대범죄_발생총합건수 |     살인 |     강도 |   강간강제추행 |     절도 |      폭력 |
|:---------------------|---------------:|-----------------------:|---------:|---------:|---------------:|---------:|----------:|
| 중국국적총합         |      1         |              0.0631549 | 0.26094  | 0.268643 |     -0.0330636 | 0.044569 | 0.0903106 |
| 5대범죄_발생총합건수 |      0.0631549 |              1         | 0.541375 | 0.595181 |      0.789114  | 0.968766 | 0.971732  |
| 살인                 |      0.26094   |              0.541375  | 1        | 0.227909 |      0.431302  | 0.478686 | 0.560923  |
| 강도                 |      0.268643  |              0.595181  | 0.227909 | 1        |      0.479638  | 0.597801 | 0.555354  |
| 강간강제추행         |     -0.0330636 |              0.789114  | 0.431302 | 0.479638 |      1         | 0.751955 | 0.698744  |
| 절도                 |      0.044569  |              0.968766  | 0.478686 | 0.597801 |      0.751955  | 1        | 0.892135  |
| 폭력                 |      0.0903106 |              0.971732  | 0.560923 | 0.555354 |      0.698744  | 0.892135 | 1         |

#### 각 범죄 별, 중국 국적 외국인 수와 범죄 건수 시각화
* Github에서 ipynb 파일을 열면, javascript가 렌더링되지 않아 그래프가 표시되지 않습니다.
* 렌더링된 그래프는 아래 링크에서 확인하실 수 있습니다.
    * [중국국적총합_5대범죄_발생총합건수_그래프](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A4%91%EA%B5%AD%EA%B5%AD%EC%A0%81%EC%B4%9D%ED%95%A9_5%EB%8C%80%EB%B2%94%EC%A3%84_%EB%B0%9C%EC%83%9D%EC%B4%9D%ED%95%A9%EA%B1%B4%EC%88%98_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [중국국적총합_살인_그래프](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A4%91%EA%B5%AD%EA%B5%AD%EC%A0%81%EC%B4%9D%ED%95%A9_%EC%82%B4%EC%9D%B8_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [중국국적총합_강도_그래프](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A4%91%EA%B5%AD%EA%B5%AD%EC%A0%81%EC%B4%9D%ED%95%A9_%EA%B0%95%EB%8F%84_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [중국국적총합_성범죄_그래프](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A4%91%EA%B5%AD%EA%B5%AD%EC%A0%81%EC%B4%9D%ED%95%A9_%EC%84%B1%EB%B2%94%EC%A3%84_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [중국국적총합_절도_그래프](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A4%91%EA%B5%AD%EA%B5%AD%EC%A0%81%EC%B4%9D%ED%95%A9_%EC%A0%88%EB%8F%84_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [중국국적총합_폭력_그래프](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A4%91%EA%B5%AD%EA%B5%AD%EC%A0%81%EC%B4%9D%ED%95%A9_%ED%8F%AD%EB%A0%A5_%EA%B7%B8%EB%9E%98%ED%94%84.html)
* 아래 스크린샷처럼 출력되며, 슬라이드를 움직여 연도별 데이터 변화를 확인할 수 있습니다.
![스크린샷](https://raw.githubusercontent.com/limyj0708/Five_felony_crimes_seoul_visualization/master/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%8B%9C%EA%B0%81%ED%99%94_%EA%B7%B8%EB%9E%98%ED%94%84_1.png)


## 2. 5대 강력범죄 발생건수와 상관계수가 높은 다른 요소도 있을까?
* 사회경제적 요소와 환경적 요소를 탐색
* 관련이 있었던 세 가지 데이터
    1. 구별 사회복지 예산액
    2. 구별 지하철 역 개수
    3. 서울 주민등록 전입지별 인구이동

### 1. 구별 사회복지 예산액
* 사용한 데이터
     * 서울시 5대 범죄 발생현황 통계 (구별) (2014~2018)
     * 서울시 1인당 사회복지 예산액 통계 (2014-2017)
* 최종적으로 사용한 DataFrame

|    |   기간 | 자치구   |   금액(천원/명) |   상대격차(배) |   절대격차(천원/명) |   합계 |   살인 |   강도 |   강간강제추행 |   절도 |   폭력 |
|---:|-------:|:---------|----------------:|---------------:|--------------------:|-------:|-------:|-------:|---------------:|-------:|-------:|
|  0 |   2014 | 종로구   |           608   |           1.22 |               109.8 |   5021 |      3 |     12 |            226 |   2272 |   2508 |
|  1 |   2014 | 중구     |           702.8 |           1.41 |               204.7 |   5231 |      6 |     13 |            221 |   2576 |   2415 |
|...|...|...|...|...|...|...|...|...|...|...|...|
| 98 |   2017 | 송파구   |           481.2 |           0.72 |              -184.8 |   5576 |      6 |      1 |            288 |   2274 |   3007 |
| 99 |   2017 | 강동구   |           666.6 |           1    |                 0.6 |   4261 |      5 |     10 |            172 |   1645 |   2429 |

* 상관계수
    * 2017년 구별 복지예산과 각 범죄 발생건수 별 상관계수
    * 한계점 :  사회과학에서는 상관계수의 절대값이 0.4 이상이면 유의미한 값으로 간주하지만, 보편적인 데이터 분석의 관점에서 상관계수의 절대값이 낮은 수치임.

|               |   금액(천원/명) |      합계 |       살인 |      강도 |   강간강제추행 |      절도 |      폭력 |
|:--------------|----------------:|----------:|-----------:|----------:|---------------:|----------:|----------:|
| 금액(천원/명) |       1         | -0.406691 | -0.0489686 | -0.19993  |      -0.403537 | -0.456064 | -0.314371 |
| 합계          |      -0.406691  |  1        |  0.497344  |  0.51636  |       0.768559 |  0.956593 |  0.960722 |
| 살인          |      -0.0489686 |  0.497344 |  1         |  0.111101 |       0.298272 |  0.425596 |  0.535682 |
| 강도          |      -0.19993   |  0.51636  |  0.111101  |  1        |       0.570856 |  0.568225 |  0.39026  |
| 강간강제추행  |      -0.403537  |  0.768559 |  0.298272  |  0.570856 |       1        |  0.71954  |  0.663319 |
| 절도          |      -0.456064  |  0.956593 |  0.425596  |  0.568225 |       0.71954  |  1        |  0.848886 |
| 폭력          |      -0.314371  |  0.960722 |  0.535682  |  0.39026  |       0.663319 |  0.848886 |  1        |

* 그래프
    * [복지예산_5대범죄총합_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EB%B3%B5%EC%A7%80%EC%98%88%EC%82%B0_5%EB%8C%80%EB%B2%94%EC%A3%84%EC%B4%9D%ED%95%A9_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * 스크린샷

    ![스크린샷](https://raw.githubusercontent.com/limyj0708/Five_felony_crimes_seoul_visualization/master/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EB%B3%B5%EC%A7%80%EC%98%88%EC%82%B0%20%EB%B2%94%EC%A3%84%20%EA%B7%B8%EB%9E%98%ED%94%84.png)

### 1인당 사회복지 예산액과 강간강제추행, 절도는 음의 상관관계를 가짐


### 2. 구별 지하철 역 개수
* 사용한 데이터
    * 서울시 5대 범죄 발생현황 통계 (구별) (2014~2018)
    * 서울시 자치구별 지하철역 수 (2019)
* 지하철역 : 유동인구와 관련되었을 것이라 추측
* 최종적으로 사용한 DataFrame

|    | 자치구   |   합계 |   살인 |   강도 |   강간강제추행 |   절도 |   폭력 |   전철역 수 |
|---:|:---------|-------:|-------:|-------:|---------------:|-------:|-------:|------------:|
|  0 | 종로구   |   3690 |      6 |      3 |            236 |   1483 |   1962 |          15 |
|  1 | 중구     |   4030 |      2 |     11 |            207 |   1855 |   1955 |          23 |
|  2 | 용산구   |   3411 |      1 |      3 |            331 |   1096 |   1980 |          18 |
|...|...|...|...|...|...|...|...|...|...|...|...|
| 24 | 강동구   |   3919 |      3 |      7 |            170 |   1515 |   2224 |          11 |


* 상관계수
    * 2018년 구별 지하철 역 갯수와 각 범죄 발생건수 간의 상관관계

|              |     합계 |     살인 |     강도 |   강간강제추행 |     절도 |     폭력 |   전철역 수 |
|:-------------|---------:|---------:|---------:|---------------:|---------:|---------:|------------:|
| 합계         | 1        | 0.594612 | 0.606587 |       0.801312 | 0.971584 | 0.974444 |    0.580999 |
| 살인         | 0.594612 | 1        | 0.271016 |       0.469315 | 0.542147 | 0.607344 |    0.140307 |
| 강도         | 0.606587 | 0.271016 | 1        |       0.496463 | 0.609513 | 0.569268 |    0.318223 |
| 강간강제추행 | 0.801312 | 0.469315 | 0.496463 |       1        | 0.767011 | 0.717707 |    0.592739 |
| 절도         | 0.971584 | 0.542147 | 0.609513 |       0.767011 | 1        | 0.902027 |    0.59934  |
| 폭력         | 0.974444 | 0.607344 | 0.569268 |       0.717707 | 0.902027 | 1        |    0.512349 |
| 전철역 수    | 0.580999 | 0.140307 | 0.318223 |       0.592739 | 0.59934  | 0.512349 |    1        |


* 그래프
    * [전철역수_살인_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A0%84%EC%B2%A0%EC%97%AD%EC%88%98_%EC%82%B4%EC%9D%B8_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [전철역수_강도_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A0%84%EC%B2%A0%EC%97%AD%EC%88%98_%EA%B0%95%EB%8F%84_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [전철역수_성범죄_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A0%84%EC%B2%A0%EC%97%AD%EC%88%98_%EC%84%B1%EB%B2%94%EC%A3%84_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [전철역수_절도_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A0%84%EC%B2%A0%EC%97%AD%EC%88%98_%EC%A0%88%EB%8F%84_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * [전철역수_폭력_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A0%84%EC%B2%A0%EC%97%AD%EC%88%98_%ED%8F%AD%EB%A0%A5_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * 스크린샷 - 전철역수_절도 그래프

    ![스크린샷](https://raw.githubusercontent.com/limyj0708/Five_felony_crimes_seoul_visualization/master/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%A7%80%ED%95%98%EC%B2%A0%EC%97%AD%20%EC%88%98%20%EB%B2%94%EC%A3%84%20%EA%B7%B8%EB%9E%98%ED%94%84.png)

#### 구별 지하철 역 개수와 5대 강력범죄 중 절도, 폭력, 성범죄는 양의 상관관계를 가지고 있음
* 유동인구가 많은 것이 원인으로 추측됨


### 3. 서울 주민등록 전입지별 인구이동 
* 사용한 데이터
     * 서울시 5대 범죄 발생현황 통계 (구별) (2014~2018)
     * 서울시 주민등록 전입지별 인구이동 (2014-2018)
     * 주거지를 옮기는 사람의 수가 많으면, 지역 공동체가 형성되기 힘들며, 이는 곧 상호감시체계가 약함을 뜻함
* 최종적으로 사용한 DataFrame

|     |   기간 | 자치구   |   이동한 인구 수 |   합계 |   살인 |   강도 |   강간강제추행 |   절도 |   폭력 |
|----:|-------:|:---------|-----------------:|-------:|-------:|-------:|---------------:|-------:|-------:|
|   0 |   2014 | 종로구   |            24191 |   5021 |      3 |     12 |            226 |   2272 |   2508 |
|   1 |   2014 | 중구     |            20105 |   5231 |      6 |     13 |            221 |   2576 |   2415 |
|   2 |   2014 | 용산구   |            35618 |   3799 |      1 |      7 |            213 |   1560 |   2018 |
|...|...|...|...|...|...|...|...|...|...|...|...|
| 124 |   2018 | 강동구   |            59334 |   3919 |      3 |      7 |            170 |   1515 |   2224 |


* 상관계수
    * 2018년 구별 전입 인구 수와 각 범죄 발생건수 간의 상관관계

|                |   이동한 인구 수 |     합계 |     살인 |     강도 |   강간강제추행 |     절도 |     폭력 |
|:---------------|-----------------:|---------:|---------:|---------:|---------------:|---------:|---------:|
| 이동한 인구 수 |         1        | 0.626943 | 0.382918 | 0.244559 |       0.504526 | 0.594899 | 0.623106 |
| 합계           |         0.626943 | 1        | 0.594612 | 0.606587 |       0.801312 | 0.971584 | 0.974444 |
| 살인           |         0.382918 | 0.594612 | 1        | 0.271016 |       0.469315 | 0.542147 | 0.607344 |
| 강도           |         0.244559 | 0.606587 | 0.271016 | 1        |       0.496463 | 0.609513 | 0.569268 |
| 강간강제추행   |         0.504526 | 0.801312 | 0.469315 | 0.496463 |       1        | 0.767011 | 0.717707 |
| 절도           |         0.594899 | 0.971584 | 0.542147 | 0.609513 |       0.767011 | 1        | 0.902027 |
| 폭력           |         0.623106 | 0.974444 | 0.607344 | 0.569268 |       0.717707 | 0.902027 | 1        |

* 그래프
    * [전입인구수_5대범죄총합_그래프 보러가기](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/%EC%A0%84%EC%9E%85%EC%9D%B8%EA%B5%AC%EC%88%98_5%EB%8C%80%EB%B2%94%EC%A3%84%EC%B4%9D%ED%95%A9_%EA%B7%B8%EB%9E%98%ED%94%84.html)
    * 스크린샷

    ![스크린샷](https://raw.githubusercontent.com/limyj0708/Five_felony_crimes_seoul_visualization/master/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%A0%84%EC%9E%85%EC%9D%B8%EA%B5%AC%20%EB%B2%94%EC%A3%84%20%EA%B7%B8%EB%9E%98%ED%94%84.png)

#### 구별 전입 인구 수와 5대 강력범죄 중 성범죄, 절도, 폭력은 양의 상관관계를 가지고 있음
* 전입 인구가 다량인 구에서는 지역 커뮤니티가 형성되기 쉽지 않아서, 상호 감시가 안 되기 때문인 것으로 추측

## 3. 지도 위에 그려보기 : Interactive Map with Folium
* 자치구별 범죄건수를 지도에 시각화 
    - 범죄건수에 따라 자치구의 색의 진한 정도를 다르게 표시
    - 지도의 자치구 영역 위에 마우스를 대면 해당구의 범죄건수를 볼 수 있음
* Github에서 ipynb 파일을 열면, javascript가 렌더링되지 않아 지도가 표시되지 않습니다. 아래 링크에서 확인 가능합니다.
* 렌더링 된 지도 페이지 열기
    * [2018년 살인 지도 확인](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/interactive_map_%EC%82%B4%EC%9D%B8.html)
    * [2018년 강도 지도 확인](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/interactive_map_%EA%B0%95%EB%8F%84.html)
    * [2018년 절도 지도 확인](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/interactive_map_%EC%A0%88%EB%8F%84.html)
    * [2018년 폭력 지도 확인](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/interactive_map_%ED%8F%AD%EB%A0%A5.html)
    * [2018년 강간강제추행 지도 확인](https://limyj0708.github.io/Five_felony_crimes_seoul_visualization/interactive_map_%EA%B0%95%EA%B0%84%EA%B0%95%EC%A0%9C%EC%B6%94%ED%96%89.html)

* 스크린샷
    * ipython widget을 사용한, 연도/색깔/범죄 종류를 바꿀 수 있는 interactive 지도
    * jupyter notebook에서 작동

        ![스크린샷](https://raw.githubusercontent.com/limyj0708/Five_felony_crimes_seoul_visualization/master/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%9D%B8%ED%84%B0%EB%9E%99%ED%8B%B0%EB%B8%8C%20%EC%A7%80%EB%8F%84%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7.png)
    
    * html로 별도로 렌더링 된 interactive 지도
    
        ![스크린샷](https://raw.githubusercontent.com/limyj0708/Five_felony_crimes_seoul_visualization/master/%EC%9D%B4%EB%AF%B8%EC%A7%80/%EC%9D%B8%ED%84%B0%EB%9E%99%ED%8B%B0%EB%B8%8C%20%EC%A7%80%EB%8F%84%20%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202.png)

* 서울시 시군구 위치정보를 담고 있는 geojson 데이터 사용
    ```python
    # 서울 시군구의 위치정보를 담고 있는 geojson 파일 사용
    with open('시군구_위치데이터/seoul_municipalities_geo.json', encoding='utf-8') as seoul_json:
        data = json.load(seoul_json)
    ```

* folium을 사용하여 지도 생성

## 4. 다중회귀모형

- 상관관계가 높은 변수들로 범죄건수를 예측하는 선형회귀모델
- 5대 강력범죄 건수를 합친 전체 범죄건수를 종속변수로 설정  


```python
import statsmodels.api as sm
import statsmodels.formula.api as smf
```


```python
# 필요한 데이터프레임 불러오기
for_modeling_result=pd.read_csv('for_modeling_result.csv')
# statsmodels 모델에서 컬럼명에 공백을 허용하지않아 컬럼명 변경.
for_modeling_rename=for_modeling_result.rename(columns={'이사간 인구 수':'이사인구',	'지하철 역 수':'지하철역수','금액(천원/명)':'인당복지예산'})
```

```python
# 다중선형회귀 적합
model = smf.ols(formula = '합계 ~ 인당복지예산 + 이사인구 + 지하철역수', data = for_modeling_rename)
result = model.fit()
result.summary()
```

OLS Regression Results

|||||
|:--|:--|:--|:--|
|**Dep. Variable:**|합계	|**R-squared:**|0.517
|**Model:**|OLS	|**Adj. R-squared:**|0.502
|**Method:**|Least Squares|**F-statistic:**|34.25
|**Date:**|Tue, 03 Dec 2019	|**Prob (F-statistic):**|	3.88e-15
|**Time:**|19:05:32|**Log-Likelihood:**|	-820.92
|**No. Observations:**|	100	|**AIC:**|1650.
|**Df Residuals:**|	96	|**BIC:**|1660.
|**Df Model:**|	3	|||	
|**Covariance Type:**|nonrobust	|||


|  |coef|std err|t|P>t| [0.025 | 0.975] |
|:--|:--|:--|:--|:--|:--|:--|
|**Intercept**|3435.0732|790.867|4.343|0.000|1865.214|5004.932|
|**인당복지예산**|-1.8037|0.943|-1.913|0.059|-3.675|0.068|
|**이사인구**|0.0247|0.005|4.912|0.000|0.015|0.035|
|**지하철역수**|67.7401|14.117|4.798|0.000|39.717|95.763|

|||||
|:--|:--|:--|:--|
|**Omnibus:**|2.535|**Durbin-Watson:**|2.478|
|**Prob(Omnibus):**|0.282|**Jarque-Bera (JB):**|1.888|
|**Skew:**|-0.161|**Prob(JB):**|0.389|
|**Kurtosis:**|2.409|**Cond. No.**|5.69e+05|


#### 결과
* 회귀식
    * y= 3435.0732 - 1.8037 * 인당복지예산 + 0.0247 * 이사인구 + 67.7401 * 지하철역수

* 결과 해석 :
인당복지예산을 제외한 각 회귀계수들은 p-value 값이 0.05보다 작으므로 유의수준 0.05하에서 통계적으로 유의미하나, 결정계수는 0.5 로 회귀모델의 설명력은 높지않다.
